nginx:
  startCmd: "\
    docker stop nginx-reverse-proxy > /dev/nul; \
    docker rm nginx-reverse-proxy > /dev/nul; \
    docker run --rm -p 80:80 -p 443:443 \
      --name nginx-reverse-proxy \
      -v ./nginx-config:/etc/nginx \
      -v /etc/localtime:/etc/localtime:ro \
      -v ./letsencrypt:/etc/letsencrypt \
      tuiteraz/nginx-reverse-proxy:1.0"
  stopCmd: "docker stop nginx-reverse-proxy || true"
  statusCmd: "docker inspect --format='{{.State.Status}}' nginx-reverse-proxy"
  logsCmd: "docker logs nginx-reverse-proxy"
  configPath: "./nginx-config"
letsencrypt:
  dryRun: false
  basePath: "./letsencrypt"
  certFilesPath: "./letsencrypt/live"
  requestCertCmdTmpl: "\
    mkdir -p {{.BasePath}}; \
    certbot certonly --non-interactive --webroot --cert-name {{.CertName}} \
      --agree-tos --email {{.Email}} --domains {{.Domain}} \
      --webroot-path {{.BasePath}} \
      --cert-path {{.BasePath}} \
      --config-dir {{.BasePath}} \
      --work-dir {{.BasePath}} \
      --logs-dir {{.BasePath}} \
      {{if .DryRun}}--dry-run{{end}}"