server {
  set $config_name "fastify1";
  set $forward_scheme http;
  set $server "192.168.0.12";
  set $port 3000;
  set $domain_name1 "fastify1.oleksiihonchar.com";

  listen 80;
  listen [::]:80;

  http2 on;

  server_name fastify1.oleksiihonchar.com www.fastify1.oleksiihonchar.com;

  access_log /var/log/nginx/access.log proxy;
  error_log  /var/log/nginx/error.log warn; # to mute block-exploits notice spam

  include /etc/nginx/includes/default-locations.conf;
  include /etc/nginx/includes/block-exploits.conf;

  include /etc/nginx/includes/cors.conf;

  include /etc/nginx/includes/letsencrypt-acme-challenge.conf;



  location / {
  
    proxy_pass $forward_scheme://$server:$port$request_uri;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection $http_connection;
    include /etc/nginx/includes/common-proxy-pass.conf;
  }
}
